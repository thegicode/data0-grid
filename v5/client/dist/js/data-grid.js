"use strict";(()=>{var K=Object.defineProperty,P=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var R=(i,t,e)=>t in i?K(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,f=(i,t)=>{for(var e in t||(t={}))B.call(t,e)&&R(i,e,t[e]);if(H)for(var e of H(t))A.call(t,e)&&R(i,e,t[e]);return i},E=(i,t)=>P(i,N(t));var W=(i,t)=>{var e={};for(var n in i)B.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&H)for(var n of H(i))t.indexOf(n)<0&&A.call(i,n)&&(e[n]=i[n]);return e};var x=(i,t,e)=>new Promise((n,l)=>{var s=r=>{try{a(e.next(r))}catch(h){l(h)}},o=r=>{try{a(e.throw(r))}catch(h){l(h)}},a=r=>r.done?n(r.value):Promise.resolve(r.value).then(s,o);a((e=e.apply(i,t)).next())});var d=class extends HTMLElement{constructor(e){super();this.cellController=e.cellController,this.dataModel=e.dataModel,this.selection=e.selection,this._type=e.type,this._key=e.key,this._value=e.value,this._readOnly=!0,this._el=null}get readOnly(){return this._readOnly}set readOnly(e){this._readOnly=e,this._el instanceof HTMLInputElement&&(this._el.readOnly=e)}get key(){return this._key}get type(){return this._type}get value(){return this._value}set value(e){this._value=e,this._el instanceof(HTMLInputElement||HTMLSelectElement)&&(this._el.value=e.toString())}get currentInputValue(){if(this._el instanceof(HTMLInputElement||HTMLSelectElement))return this._type==="number"?Number(this._el.value):this._type==="checkbox"?this._el.checked:this._el.value}focus(){var e;(e=this._el)==null||e.focus()}blur(){var e;(e=this._el)==null||e.blur()}connectedCallback(){this.render(),this.addEventListener("change",this.onChange.bind(this)),this.addEventListener("keydown",this.onKeyDown.bind(this))}render(){this._el=this.createElement(),this._el&&this.appendChild(this._el)}onChange(e){let n=this.currentInputValue;n!=null&&this._value!==n&&(this.value=n,this.updateData())}onKeyDown(e){if(!this.selection.selectedCells.size)return;let l=this.readOnly===!1,s=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];if(l){switch(e.key){case"Enter":e.preventDefault(),this.readOnly=!0;let o=this.moveUpDown(e.shiftKey);if(!o)return;o.instance.readOnly=this._type!=="checkbox";break;case"Tab":e.preventDefault(),this.blur(),this.readOnly=!0,this.moveSide(e.shiftKey);break;case"Escape":e.preventDefault(),this.value=this._value,this.readOnly=!0;break}this._type==="checkbox"&&s.includes(e.key)&&this.handleArrowKey(e)}else{switch(e.key){case"Enter":e.preventDefault(),this._type==="string"?this.moveUpDown(e.shiftKey):(this.readOnly=!1,this.focus());break;case"Tab":e.preventDefault(),this.moveSide(e.shiftKey);break}s.includes(e.key)&&this.handleArrowKey(e)}}moveUpDown(e){return e?this.selection.moveTo(this.cellController.row-1,this.cellController.col):this.selection.moveTo(this.cellController.row+1,this.cellController.col)}moveSide(e){e?this.selection.moveTo(this.cellController.row,this.cellController.col-1):this.selection.moveTo(this.cellController.row,this.cellController.col+1)}handleArrowKey(e){switch(e.preventDefault(),e.key){case"ArrowUp":this.selection.moveTo(this.cellController.row-1,this.cellController.col);break;case"ArrowDown":this.selection.moveTo(this.cellController.row+1,this.cellController.col);break;case"ArrowLeft":this.selection.moveTo(this.cellController.row,this.cellController.col-1);break;case"ArrowRight":this.selection.moveTo(this.cellController.row,this.cellController.col+1);break}}updateData(){let e=this.getId();e&&this.dataModel.updateFieldValue(e,this._key,this.value)}getId(){let e=this.closest("tr");return e&&e.dataset.id||null}};var C=class extends d{constructor(e){super(e);this._el=null}get readOnly(){return this._readOnly}set readOnly(e){this._readOnly=Boolean(e),this._el&&(this._el.ariaReadOnly=String(Boolean(e)))}createElement(){let e=document.createElement("input");return e.type="checkbox",e.checked=this.isTrue(),e.ariaReadOnly=this._readOnly.toString(),e}isTrue(){return this._value===!0||Boolean(this._value==="true")||Boolean(this._value==="on")}};var b=class extends d{constructor(e,n=!1){super(e);this._isFix=n,this._dataListID=`datalist-${this._key}`}get getAvailableOptions(){let e=this._key;return this.dataModel.getValuesForKey(e)}get currentInputValue(){if(this._el instanceof HTMLInputElement)if(this._isFix&&!this.getAvailableOptions.includes(this._el.value))this._el.value=this._value.toString();else return this._el.value}createElement(){let e=document.createElement("input");return e.type="text",e.setAttribute("list",this._dataListID),e.value=this._value.toString(),e.readOnly=!0,e}};var _=class extends d{constructor(e){super(e);this._el=null}get readOnly(){return this._readOnly}set readOnly(e){this._readOnly=e,this._el&&(this._el.ariaReadOnly=e.toString())}createElement(){let e=document.createElement("select"),n=new DocumentFragment;return this.dataModel.records.map(l=>this.createOptionElement(l)).forEach(l=>n.appendChild(l)),e.appendChild(n),e.ariaReadOnly="true",e.value=this._value.toString(),e}createOptionElement(e){let n=e[this._key],l=document.createElement("option");return l.value=n.toString(),l.textContent=n.toString(),l}onChange(e){super.onChange(e),this.readOnly=!0;let n=this.selection.moveTo(this.cellController.row+1,this.cellController.col);n&&(n.instance.readOnly=!1)}};var T=class extends d{constructor(t){super(t)}get value(){return this._value}set value(t){}createElement(){let t=document.createElement("span");return t.textContent=this._value.toString(),t.className="text",t.tabIndex=0,t}};var v=class extends d{constructor(t){super(t)}createElement(){let t=document.createElement("input");return t.type=this._type,t.value=this._value.toString(),t.readOnly=this._readOnly,t}};var G=[{id:"a-1",name:"name1",description:"description1",quantity:1,food:"food-1",food_fix:"food_fix-1",vegetable:"vegetable1",option:!0,ref:"ref1"},{id:"a-2",name:"name2",description:"description2",quantity:2,food:"food-2",food_fix:"food_fix-2",vegetable:"vegetable2",option:!0,ref:"ref2"},{id:"a-3",name:"name3",description:"description3",quantity:3,food:"food-3",food_fix:"food_fix-3",vegetable:"vegetable3",option:!1,ref:"ref3"},{id:"a-4",name:"name4",description:"description4",quantity:4,food:"food-4",food_fix:"food_fix-4",vegetable:"vegetable4",option:!1,ref:"ref4"},{id:"a-5",name:"name5",description:"description5",quantity:5,food:"food-5",food_fix:"food_fix-5",vegetable:"vegetable5",option:!0,ref:"ref5"}];var I=class{constructor(t){this.dataGrid=t,this._selectedCells=new Set,this._currentSelectionRange=[],this._isRangeSelecting=!1,this._rangeSelectingStart=null,this._copiedCells=[]}get selectedCells(){return this._selectedCells}set selectedCells(t){this._selectedCells=t}get currentSelectionRange(){return this._currentSelectionRange}get isRangeSelecting(){return this._isRangeSelecting}set isRangeSelecting(t){this._isRangeSelecting=t}get rangeSelectingStart(){return this._rangeSelectingStart}set rangeSelectingStart(t){this._rangeSelectingStart=t}set copiedCell(t){this._copiedCells=t}get copiedCell(){return this._copiedCells}selectCell(t,e=!1){e||this.clearSelection(),this._selectedCells.add(t),t.classList.add("selected"),t.instance.focus(),t.instance.type==="checkbox"&&(t.instance.readOnly=!1)}moveTo(t,e){var l;let n=(l=this.dataGrid.tbody)==null?void 0:l.querySelector(`td[data-row="${t}"][data-col="${e}"]`);if(n)return this.selectCell(n),n.scrollIntoView({behavior:"smooth",block:"center",inline:"end"}),n.instance.type==="checkbox"&&(n.instance.readOnly=!1),n}selectRange(t,e){var c;let n=t.instance.row,l=t.instance.col,s=e.instance.row,o=e.instance.col,a=Math.min(n,s),r=Math.max(n,s),h=Math.min(l,o),p=Math.max(l,o);this.clearSelection();let u=[];for(let g=a;g<=r;g++){let k=[];for(let m=h;m<=p;m++){let y=(c=this.dataGrid.tbody)==null?void 0:c.querySelector(`td[data-row="${g}"][data-col="${m}"]`);y&&(this.selectCell(y,!0),k.push(y))}u.push(k)}this._currentSelectionRange=u,this._selectedCells.size>1&&(this.dataGrid.csvButtonVisible=!0)}clearSelection(){this._selectedCells.forEach(e=>{e.classList.remove("selected")}),this._selectedCells.clear();let t=this.dataGrid.querySelector(".selected-th");t&&t.classList.remove("selected-th")}};var S=class{constructor(t=[]){this._records=[];this._records=Array.isArray(t)?[...t]:[]}get records(){return this._records.map(t=>f({},t))}set records(t){Array.isArray(t)?this._records=t.map(e=>f({},e)):console.error("Data must be an array.")}getValuesForKey(t){return this._records.map(e=>e[t])}updateFieldValue(t,e,n){let l=this._records.findIndex(s=>s.id===t);l!==-1?(this._records[l]=E(f({},this._records[l]),{[e]:n}),console.log(this.records[l])):console.error(`Record with id: ${t} not found.`)}updateRecordFields(t){let s=t,{id:e}=s,n=W(s,["id"]),l=this._records.findIndex(o=>o.id===e);l!==-1?(this._records[l]=f(f({},this._records[l]),n),console.log(this.records[l])):console.error(`Record with id: ${e} not found.`)}};var q=[{key:"id",type:"string"},{key:"name",type:"text"},{key:"description",type:"string"},{key:"quantity",type:"number"},{key:"food",type:"datalist"},{key:"food_fix",type:"datalist-fix"},{key:"vegetable",type:"select"},{key:"option",type:"checkbox"},{key:"ref",type:"text"}];var M=class{constructor(t,e,n){this.dataGrid=t.dataGrid,this.dataModel=this.dataGrid.dataModel,this.selection=t.selection,this.tableController=t,this._cell=null,this._rowElement=n,this._row=e.row,this._col=e.col,this._type=e.type,this._key=e.key,this._value=e.value,this._contentElement=null,this.createCell(e.value)}get row(){return this._row}set row(t){this._cell&&(this._cell.dataset.row=t.toString()),this._row=t}get col(){return this._col}set col(t){this._cell&&(this._cell.dataset.col=t.toString()),this._col=t}get cellElement(){return this._cell}get contentElement(){return this._contentElement}get readOnly(){return this._contentElement?this._contentElement.readOnly:!0}set readOnly(t){this._contentElement&&(this._contentElement.readOnly=t)}get key(){return this._key}get value(){return this._value}set value(t){this._value=t,this._contentElement&&(this._contentElement.value=t)}get type(){return this._type}focus(){this._contentElement&&this._contentElement.focus()}createCell(t){let e=document.createElement("td");e.dataset.row=this._row.toString(),e.dataset.col=this._col.toString();let n=this.createChildElement(t);e.appendChild(n),this._contentElement=n,this._cell=e,this.bindEvents(),e.instance=this,this.setRowId(t)}setRowId(t){this._key==="id"&&this._rowElement&&(this._rowElement.dataset.id=t.toString())}createChildElement(t){let e={cellController:this,dataModel:this.dataModel,selection:this.selection,type:this._type,key:this._key,value:t};switch(this._type){case"text":case"number":return new v(e);case"checkbox":return new C(e);case"select":return new _(e);case"datalist":return new b(e);case"datalist-fix":let n=!0;return new b(e,n);default:return new T(e)}}bindEvents(){this._cell&&(this._cell.addEventListener("click",this.onClick.bind(this)),this._cell.addEventListener("dblclick",this.onDBClick.bind(this)),this._cell.addEventListener("mousedown",this.onMouseDown.bind(this)),this._cell.addEventListener("mousemove",this.onMouseMove.bind(this)),this._cell.addEventListener("mouseup",this.onMouseUp.bind(this)))}onClick(t){this.dataGrid.csvButtonVisible=!1;let e=this.selection.selectedCells;e.forEach(n=>{n.instance.readOnly=!0}),this._cell&&(t.shiftKey&&e.size>0?this.selection.selectRange(Array.from(e)[0],this._cell):this.selection.selectCell(this._cell,t.shiftKey))}onDBClick(){this.readOnly=!1,this._contentElement&&this._contentElement.focus()}onMouseDown(t){t.shiftKey||!this._cell||(this.selection.isRangeSelecting=!0,this.selection.rangeSelectingStart=this._cell,this.selection.clearSelection(),this.selection.selectCell(this._cell))}onMouseMove(t){this.selection.isRangeSelecting&&this.selection.rangeSelectingStart&&this._cell&&this.selection.selectRange(this.selection.rangeSelectingStart,this._cell)}onMouseUp(){this.selection.isRangeSelecting=!1}};var D=class{constructor(t,e,n){this.tbody=null;return this.dataModel=e.dataModel,e.tbody&&(this.tbody=e.tbody),this.selection=e.selection,this.tableController=n,this.sortItem=n.sortItem,this._headerOrders=t,this._isDragging=!1,this._draggingColumn=null,this._activeSortButton=null,this.theadTr=this.createHeader(),this}get headerOrders(){return this._headerOrders}setHeaderOrders(){let t=this.theadTr.querySelectorAll("th"),e=Array.from(t).map(n=>n.textContent||"");this._headerOrders=e.slice(1)}createHeader(){let t=document.createDocumentFragment(),e=document.createElement("th");t.appendChild(e),this._headerOrders.forEach(l=>{let s=document.createElement("th");if(s.textContent=l.toString(),this.sortItem.includes(l)){let o=this.createSortButton(l);s.appendChild(o)}this.addThEvents(s),t.appendChild(s)});let n=document.createElement("tr");return n.appendChild(t),n}addThEvents(t){["mousedown","mousemove","mouseup"].forEach(e=>{t.addEventListener(e,n=>this.handleThEvents(t,e,n))})}handleThEvents(t,e,n){let l=Array.from(t.parentNode.children).indexOf(t)-1;e==="mousedown"?this.handleThMouseDown(t,l):e==="mousemove"&&this._isDragging?this.handleThMouseMove(l):e==="mouseup"&&this._isDragging&&this.handleThMouseUp(t)}handleThMouseDown(t,e){this.selection.clearSelection(),e>=0&&(this._isDragging=!0,this._draggingColumn=e,this.selectColumn(e),t.classList.add("dragging"))}handleThMouseMove(t){t>=0&&t!==this._draggingColumn&&(this.moveColumn(t),this._draggingColumn=t)}handleThMouseUp(t){this._isDragging=!1,this._draggingColumn=null,t.classList.remove("dragging")}selectColumn(t){let e=this.tbody&&this.tbody.querySelectorAll(`td[data-col="${t}"]`);e&&e.forEach(l=>this.selection.selectCell(l,!0));let n=this.theadTr.querySelector(`th:nth-child(${t+2})`);n&&n.classList.add("selected-th")}moveColumn(t){var a;let e=this._draggingColumn,n=(a=this.tbody)==null?void 0:a.querySelectorAll("tr");n&&n.forEach(r=>{let h=Array.from(r.children),p=h[e+1],u=h[t+1];r.insertBefore(p,t<e?u:u.nextSibling),p.instance&&(p.instance.col=t),u.instance&&(u.instance.col=e);let c=p.instance.contentElement;c&&c.children.length>1&&c.removeChild(c.children[0])});let l=this.theadTr.querySelectorAll("th"),s=l[e+1],o=l[t+1];this.theadTr.insertBefore(s,t<e?o:o.nextSibling),this.setHeaderOrders()}createSortButton(t){let e=document.createElement("button");return e.type="button",e.dataset.sort="",e.className="sort-button",e.addEventListener("click",this.onClickSortButton.bind(this,t,e)),e}onClickSortButton(t,e){this._activeSortButton&&this._activeSortButton!==e&&(this._activeSortButton.dataset.sort="");let n=this.getNextSortOrder(e.dataset.sort||""),l=this.sortData(t,n),s=this.sortDataByColumnOrder(l);e.dataset.sort=n,this.tableController.renderTbody(s),this._activeSortButton=e}getNextSortOrder(t){return t===""?"ascending":t==="ascending"?"descending":""}sortData(t,e){return e?[...this.dataModel.records].sort((n,l)=>n[t]<l[t]?e==="ascending"?-1:1:n[t]>l[t]?e==="ascending"?1:-1:0):[...this.dataModel.records]}sortDataByColumnOrder(t){return t.map(e=>{let n={};return this._headerOrders.forEach(l=>{if(l in e){let s=l;n=E(f({},n),{[s]:e[s]})}}),n})}};var w=class{constructor(t,e){this.dataGrid=t,this.dataModel=t.dataModel,this.selection=t.selection,this.sortItem=e,this.theadController=null,this._fieldDefinitions=q,this._selectedTr=null,this.render()}render(){this.checkAndCreateDatalists(),this.renderTable(this.dataModel.records)}renderTable(t){var e;this.theadController=new D(this._fieldDefinitions.map(n=>n.key),this.dataGrid,this),(e=this.dataGrid.thead)==null||e.appendChild(this.theadController.theadTr),this.renderTbody(t)}renderTbody(t){let e=this.createTbody(t);!this.dataGrid.tbody||(this.dataGrid.tbody.innerHTML="",this.dataGrid.tbody.appendChild(e))}createTbody(t){let e=new DocumentFragment;return t.forEach((n,l)=>{let s=this.createRow(n,l);e.appendChild(s)}),e}createRow(t,e){var s;let n=document.createElement("tr"),l=this.createRowHeader(e);return n.appendChild(l),(s=this.theadController)==null||s.headerOrders.forEach((o,a)=>{let r=this._fieldDefinitions.find(g=>g.key===o),h=r?r.type:"string",u={row:e,col:a,key:o,type:h,value:t[o]},c=new M(this,u,n);c.cellElement&&n.appendChild(c.cellElement)}),n}createRowHeader(t){let e=document.createElement("th");return e.tabIndex=0,e.textContent=(t+1).toString(),e.addEventListener("click",this.onClickRowHeader.bind(this)),e}onClickRowHeader(t){let e=t.target.closest("tr");this._selectedTr&&this._selectedTr.classList.remove("selected-tr"),this._selectedTr!==e?(this._selectedTr=e,this._selectedTr.classList.add("selected-tr")):this._selectedTr=null}checkAndCreateDatalists(){return this._fieldDefinitions.filter(({type:t})=>t==="datalist"||t==="datalist-fix").reduce((t,{key:e})=>(t[e]=this.createDataList(e),t),{})}createDataList(t){let e=this.dataModel.records.map(l=>l[t]),n=document.createElement("datalist");return n.id=`datalist-${t}`,e.forEach(l=>{let s=document.createElement("option");s.value=l.toString(),n.appendChild(s)}),this.dataGrid.appendChild(n),n}};function U(i,t){console.log("onCsvButtonClick");let e=$(i.selectedCells),{rows:n,selectedCols:l}=j(e),s=z(n),o=J(s,l,this);X(o,"data.csv"),t.hidden=!0}function $(i){return[...i].sort((t,e)=>{let n=t.instance.row,l=t.instance.col,s=e.instance.row,o=e.instance.col;return n===s?l-o:n-s})}function j(i){let t=[],e=new Set;return i.forEach(n=>{let l=n.instance.row,s=n.instance.col,o=n.instance.value;n.instance.type==="checkbox"&&(typeof o=="boolean"?o=o?"true":"false":o==="true"||o==="on"?o="true":o="false"),t[l]||(t[l]=[]),o!==""&&(t[l][s]=o.toString(),e.add(s))}),{rows:t,selectedCols:e}}function z(i){return i.filter(t=>t!==void 0&&t.some(e=>e!==void 0))}function J(i,t,e){let n=Q(t,e),l=i.map((s,o)=>[o+1,...Array.from(t).sort((a,r)=>a-r).map(a=>s[a]||"")].join(","));return[n.join(","),...l].join(`
`)}function Q(i,t){let e=Array.from(t.querySelectorAll("thead th")).map(n=>n.textContent||"");return["",...Array.from(i).sort((n,l)=>n-l).map(n=>e[n+1])]}function X(i,t){let e=new Blob([i],{type:"text/csv"}),n=document.createElement("a");n.download=t,n.href=window.URL.createObjectURL(e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}var F={onCsvButtonClick:U};function Y(i){let{copiedCell:t,selectedCells:e}=i;t.length>0&&Z(i);let n=e.size===1?[...e][0].instance.value.toString():i.currentSelectionRange.map(l=>l.map(s=>s.instance.value.toString()).join("	")).join(`
`);navigator.clipboard.writeText(n).then(()=>console.log("Data copied to clipboard")).catch(l=>console.error("Failed to copy data to clipboard: ",l)),e.forEach(l=>l.classList.add("copiedCell")),i.copiedCell=[...e]}function Z(i){i.copiedCell.forEach(t=>t.classList.remove("copiedCell")),i.copiedCell=[]}function ee(i,t,e){navigator.clipboard.readText().then(n=>{let[l]=e.selectedCells,s=Number(l.dataset.row),o=Number(l.dataset.col);te(n).forEach((r,h)=>{let p=s+h,u=t.records.find(g=>g.id===ie(i,p)),c=f({},u);r.forEach((g,k)=>{let m=ne(i,p,o+k);if(!m||!m.instance)return;m.instance.value=g;let y=m.instance.value;if(y){if(m.instance.type==="string")return;let V=m.instance.key;c=E(f({},u),{[V]:y.toString()})}console.log(y),le(m,e.selectedCells)}),c&&c.id&&t.updateRecordFields(c)})}).catch(n=>console.error("Failed to read clipboard contents: ",n))}function te(i){return i.split(`
`).map(t=>t.split("	"))}function ne(i,t,e){return i.querySelector(`tbody td[data-row="${t}"][data-col="${e}"]`)}function le(i,t){t.add(i),i.classList.add("selected")}function ie(i,t){let e=i.querySelectorAll("tbody tr")[t];return e?e.dataset.id:null}var O={copyCells:Y,pasteCells:ee};var L=class extends HTMLElement{constructor(){super();this.dataModel=new S,this.selection=new I(this),this.table=this.querySelector("table"),this.thead=this.querySelector("thead"),this.tbody=this.querySelector("tbody"),this.csvButton=this.querySelector(".csv-button"),this.dataButton=this.querySelector(".data-button"),this.isComposing=!1,this.tableCP=null}connectedCallback(){return x(this,null,function*(){var e;try{this.dataModel.records=yield this.loadData();let n=["id","name"];this.tableCP=new w(this,n);let l=(e=this.tbody)==null?void 0:e.querySelector("td");l&&this.selection.selectCell(l),this.bindEvents()}catch(n){console.error("Data loading failed",n)}})}set csvButtonVisible(e){this.csvButton&&(this.csvButton.hidden=!e)}loadData(){return x(this,null,function*(){return new Promise(e=>{setTimeout(()=>{e(G)},100)})})}bindEvents(){document.addEventListener("copy",this.onCopy.bind(this)),document.addEventListener("paste",this.onPaste.bind(this)),this.csvButton&&this.csvButton.addEventListener("click",F.onCsvButtonClick.bind(this,this.selection,this.csvButton)),this.dataButton&&this.dataButton.addEventListener("click",this.onClickShowButton.bind(this)),document.addEventListener("keydown",this.onKeydown.bind(this)),this.addEventListener("click",this.onClickDocument.bind(this))}onKeydown(e){if(e.key==="f"&&(e.ctrlKey||e.metaKey)){e.preventDefault();let n=prompt("Enter text to search:");n&&this.highlightSearchResults(n)}}onCopy(e){e.preventDefault(),O.copyCells(this.selection)}onPaste(e){e.preventDefault(),O.pasteCells(this.table,this.dataModel,this.selection)}onClickShowButton(e){let n=this.querySelector("#data-area pre");n&&(n.textContent=JSON.stringify(this.dataModel.records,null,2))}onClickDocument(e){let n=e.target.closest("td");if(!n)return;n.classList.contains("highlight")||this.clearHighlights()}highlightSearchResults(e){var l;this.clearHighlights();let n=(l=this.tbody)==null?void 0:l.querySelectorAll("td");n==null||n.forEach(s=>{var a;let o=s.instance;(a=o==null?void 0:o.value)!=null&&a.toString().includes(e)&&s.classList.add("highlight")})}clearHighlights(){var n;let e=(n=this.tbody)==null?void 0:n.querySelectorAll(".highlight");e==null||e.forEach(l=>{l.classList.remove("highlight")})}};customElements.define("data-grid",L);customElements.define("string-cell",T);customElements.define("text-number-cell",v);customElements.define("select-cell",_);customElements.define("checkbox-cell",C);customElements.define("datalist-cell",b);})();
//# sourceMappingURL=data-grid.js.map
